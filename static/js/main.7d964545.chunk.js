(this["webpackJsonpsolve-equation-using-cnn"]=this["webpackJsonpsolve-equation-using-cnn"]||[]).push([[0],{41:function(e,t,a){},42:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(12),r=a.n(o),c=(a(41),a(42),a(17)),l=a(18),i=a(19),d=a(24),u=a(33),j=a.n(u);function b(e){var t;e.setup=function(){t=e.createCanvas(550,300)},e.draw=function(){},e.mouseDragged=function(){e.stroke(0),e.strokeWeight(3),e.line(e.mouseX,e.mouseY,e.pmouseX,e.pmouseY)},e.myCustomRedrawAccordingToNewPropsHandler=function(a){if(a.evaluate&&t){t.loadPixels();var n=t.canvas.toDataURL();a.callBack(n)}a.color&&e.background(255)}}var h=a(51),m=a(56),O=a(54),v=a(52),f=(a(29),a(2)),x="",p=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).validateFile=function(e){var t=e.target.files[0].name.substring(e.target.files[0].name.lastIndexOf(".")+1).toLowerCase(),a="";if("jpg"===t||"png"===t||"jpeg"===t){a=URL.createObjectURL(e.target.files[0]);var s=e.target.files[0],o=new FileReader;o.onloadend=function(){x=o.result,n.setState(Object.assign(n.state,{uploadState:!1,imgUrl:a,uploadError:!1,showModal:!0})),console.log(n.state.imgBase64),console.log("RESULT",o.result)},o.readAsDataURL(s)}else x="",n.setState(Object.assign(n.state,{uploadState:!0,imgUrl:"",uploadError:!0,showModal:!0}))},n.handleClose=function(){n.setState(Object.assign(n.state,{showModal:!1}))},n.modalBody=function(){return n.state.uploadError?Object(f.jsx)("div",{children:Object(f.jsx)(m.a,{variant:"danger",children:"The selected file is not an image. Please select an image"})}):Object(f.jsx)("div",{children:Object(f.jsx)(h.a,{alt:"selected image",src:n.state.imgUrl,fluid:!0})})},n.state={uploadState:!0,imgUrl:"",uploadError:!1,showModal:!1},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{type:"file",onChange:this.validateFile}),Object(f.jsx)("button",{type:"button",className:"btn btn-primary",disabled:this.state.uploadState,onClick:function(){return e.props.sendImgToServer(x)},children:"Upload!"})]}),Object(f.jsxs)(O.a,{show:this.state.showModal,onHide:this.handleClose,size:"lg","aria-labelledby":"contained-modal-title-vcenter",children:[Object(f.jsx)(O.a.Header,{closeButton:!0,children:Object(f.jsx)(O.a.Title,{children:this.state.uploadError?"Error in extension":"Preview of selected image"})}),Object(f.jsx)(O.a.Body,{children:this.modalBody()}),Object(f.jsx)(O.a.Footer,{children:Object(f.jsx)(v.a,{variant:"secondary",onClick:this.handleClose,children:"Close"})})]})]})}}]),a}(n.Component),g=a(55),C=a(53),q=a(35);var S=function(e){return Object(f.jsx)("div",{className:"offset-md-1",children:Object(f.jsxs)(g.a,{children:[Object(f.jsxs)(g.a.Group,{as:C.a,controlId:"output",children:[Object(f.jsx)(g.a.Label,{column:!0,sm:"3",children:"Entered Equation"}),Object(f.jsx)(q.a,{sm:"5",children:Object(f.jsx)(g.a.Control,{readOnly:!0,placeholder:e.equation})})]}),Object(f.jsxs)(g.a.Group,{as:C.a,controlId:"output1",children:[Object(f.jsx)(g.a.Label,{column:!0,sm:"3",children:"Formatted Equation"}),Object(f.jsx)(q.a,{sm:"5",children:Object(f.jsx)(g.a.Control,{readOnly:!0,placeholder:e.formatted_equation})})]}),Object(f.jsxs)(g.a.Group,{as:C.a,controlId:"output2",children:[Object(f.jsx)(g.a.Label,{column:!0,sm:"3",children:"Result"}),Object(f.jsx)(q.a,{sm:"5",children:Object(f.jsx)(g.a.Control,{readOnly:!0,placeholder:e.result})})]})]})})},w="",y=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).pseudo=function(e){w=e},e.sendImgToServer=function(t){console.log("req:",t);var a=t.replace("data:image/png;base64,",""),n={};n.image=a,fetch("https://equation-solver-main.herokuapp.com/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){var a=JSON.parse(t);console.log("Success:",a),e.setState({color:!1,evaluate:!1,equation:a.Entered_equation,formatted_equation:a.Formatted_equation,result:a.solution}),console.log(e.state)})).catch((function(e){console.error("Error:",e)}))},e.onClear=function(){e.setState({color:!0,evaluate:!1,equation:"",formatted_equation:"",result:""})},e.onEval=function(){e.setState({color:!1,evaluate:!0,equation:"",formatted_equation:"",result:""})},e.state={color:!1,evaluate:!1,equation:"",formatted_equation:"",result:""},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"container ",children:[Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-12 col-md-6 offset-md-2",children:"Draw the equation below"})}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"row align-items-center",children:[Object(f.jsx)("div",{className:"col-12 col-md-6 border border-dark offset-md-2",children:Object(f.jsx)(j.a,{sketch:b,color:this.state.color,evaluate:this.state.evaluate,callBack:this.pseudo})}),Object(f.jsxs)("div",{className:"col-6 col-md-2",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("button",{type:"button",onClick:this.state.evaluate?function(){return e.sendImgToServer(w)}:this.onEval,className:"btn btn-primary btn-block ",children:this.state.evaluate?"Evaluate":"Save"})})}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("button",{type:"button",onClick:this.onClear,className:"btn btn-danger btn-block ",children:"Clear"})})})]})]}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"offset-md-3",children:Object(f.jsx)(p,{sendImgToServer:this.sendImgToServer})})}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)(S,{equation:this.state.equation,formatted_equation:this.state.formatted_equation,result:this.state.result})]})}}]),a}(n.Component);var N=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(y,{})})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,57)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),o(e),r(e)}))};r.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(N,{})}),document.getElementById("root")),k()}},[[49,1,2]]]);
//# sourceMappingURL=main.7d964545.chunk.js.map